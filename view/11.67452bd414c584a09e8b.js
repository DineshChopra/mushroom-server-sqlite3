(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{cKUJ:function(n,l,t){"use strict";t.r(l);var u=t("CcnG"),e=function(){return function(){}}(),o=t("pMnS"),i=t("Ip0R"),c=function(){function n(){this.editStockEvent=new u.EventEmitter,this.deleteStockEvent=new u.EventEmitter}return n.prototype.ngOnInit=function(){},n.prototype.onEditStock=function(n){this.editStockEvent.emit(n)},n.prototype.onDeleteStock=function(n){this.deleteStockEvent.emit(n)},n}(),r=u["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function d(n){return u["\u0275vid"](0,[(n()(),u["\u0275eld"](0,0,null,null,13,"tr",[],null,null,null,null,null)),(n()(),u["\u0275eld"](1,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),u["\u0275ted"](2,null,["",""])),(n()(),u["\u0275eld"](3,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),u["\u0275ted"](4,null,["",""])),(n()(),u["\u0275eld"](5,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),u["\u0275ted"](6,null,["",""])),(n()(),u["\u0275eld"](7,0,null,null,2,"td",[],null,null,null,null,null)),(n()(),u["\u0275ted"](8,null,["",""])),u["\u0275ppd"](9,2),(n()(),u["\u0275eld"](10,0,null,null,1,"td",[],null,[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.onEditStock(n.context.$implicit)&&u),u},null,null)),(n()(),u["\u0275ted"](-1,null,["Edit"])),(n()(),u["\u0275eld"](12,0,null,null,1,"td",[],null,[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.onDeleteStock(n.context.$implicit)&&u),u},null,null)),(n()(),u["\u0275ted"](-1,null,["Delete"]))],null,function(n,l){n(l,2,0,null==l.context.$implicit?null:l.context.$implicit.productName),n(l,4,0,l.context.$implicit.quantity),n(l,6,0,l.context.$implicit.price);var t=u["\u0275unv"](l,8,0,n(l,9,0,u["\u0275nov"](l.parent,0),l.context.$implicit.purchaseDate,"fullDate"));n(l,8,0,t)})}function a(n){return u["\u0275vid"](0,[u["\u0275pid"](0,i.DatePipe,[u.LOCALE_ID]),(n()(),u["\u0275eld"](1,0,null,null,17,"table",[["class","table table-striped table-bordered"]],null,null,null,null,null)),(n()(),u["\u0275eld"](2,0,null,null,13,"thead",[],null,null,null,null,null)),(n()(),u["\u0275eld"](3,0,null,null,12,"tr",[],null,null,null,null,null)),(n()(),u["\u0275eld"](4,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),u["\u0275ted"](-1,null,["Stock Name"])),(n()(),u["\u0275eld"](6,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),u["\u0275ted"](-1,null,["Quantity"])),(n()(),u["\u0275eld"](8,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),u["\u0275ted"](-1,null,["Price"])),(n()(),u["\u0275eld"](10,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),u["\u0275ted"](-1,null,["Created Date"])),(n()(),u["\u0275eld"](12,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),u["\u0275ted"](-1,null,["Edit"])),(n()(),u["\u0275eld"](14,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),u["\u0275ted"](-1,null,["Delete"])),(n()(),u["\u0275eld"](16,0,null,null,2,"tbody",[],null,null,null,null,null)),(n()(),u["\u0275and"](16777216,null,null,1,null,d)),u["\u0275did"](18,278528,null,0,i.NgForOf,[u.ViewContainerRef,u.TemplateRef,u.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,18,0,l.component.stocks)},null)}var s=t("gIcY"),p=function(){return function(){}}(),v=function(){return(v=Object.assign||function(n){for(var l,t=1,u=arguments.length;t<u;t++)for(var e in l=arguments[t])Object.prototype.hasOwnProperty.call(l,e)&&(n[e]=l[e]);return n}).apply(this,arguments)},g=function(){function n(n){this.fb=n,this.stockCreateEvent=new u.EventEmitter,this.cancelEvent=new u.EventEmitter,this.action="Save",this.datePipe=new i.DatePipe(navigator.language)}return n.prototype.ngOnInit=function(){this.initializeForm()},n.prototype.ngOnChanges=function(){this.stock&&(this.action=this.stock.id?"Edit":"Save")},n.prototype.cancel=function(){this.cancelEvent.emit()},n.prototype.onSubmit=function(){var n=this.form.value;n.totalPrice=n.price*n.quantity,n.purchaseDate=new Date,n=v({},this.stock,n),this.stockCreateEvent.emit(n)},n.prototype.getTotalPrice=function(){var n=this.form.value,l=0;return n.price&&n.quantity&&(l=n.price*n.quantity),l},n.prototype.initializeForm=function(){var n,l=this.stock,t=l.price,u=l.quantity;this.stock.id&&(n=this.stock.product._id);var e=this.datePipe.transform(new Date,"fullDate");this.form=this.fb.group({productId:[n,[]],price:[t,[]],quantity:[u,[]],totalPrice:[{value:0,disabled:!0}],purchaseDate:[{value:e,disabled:!0}]})},n}(),f=u["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function m(n){return u["\u0275vid"](0,[(n()(),u["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),u["\u0275did"](1,147456,null,0,s.k,[u.ElementRef,u.Renderer2,[2,s.m]],{value:[0,"value"]},null),u["\u0275did"](2,147456,null,0,s.t,[u.ElementRef,u.Renderer2,[8,null]],{value:[0,"value"]},null),(n()(),u["\u0275ted"](3,null,["",""]))],function(n,l){n(l,1,0,l.context.$implicit.id),n(l,2,0,l.context.$implicit.id)},function(n,l){n(l,3,0,l.context.$implicit.name)})}function h(n){return u["\u0275vid"](0,[(n()(),u["\u0275eld"](0,0,null,null,41,"div",[],null,null,null,null,null)),(n()(),u["\u0275eld"](1,0,null,null,40,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,l,t){var e=!0,o=n.component;return"submit"===l&&(e=!1!==u["\u0275nov"](n,3).onSubmit(t)&&e),"reset"===l&&(e=!1!==u["\u0275nov"](n,3).onReset()&&e),"ngSubmit"===l&&(e=!1!==o.onSubmit()&&e),e},null,null)),u["\u0275did"](2,16384,null,0,s.q,[],null,null),u["\u0275did"](3,540672,null,0,s.f,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),u["\u0275prd"](2048,null,s.b,null,[s.f]),u["\u0275did"](5,16384,null,0,s.j,[[4,s.b]],null,null),(n()(),u["\u0275eld"](6,0,null,null,7,"select",[["formControlName","productId"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(n,l,t){var e=!0;return"change"===l&&(e=!1!==u["\u0275nov"](n,7).onChange(t.target.value)&&e),"blur"===l&&(e=!1!==u["\u0275nov"](n,7).onTouched()&&e),e},null,null)),u["\u0275did"](7,16384,null,0,s.m,[u.Renderer2,u.ElementRef],null,null),u["\u0275prd"](1024,null,s.g,function(n){return[n]},[s.m]),u["\u0275did"](9,671744,null,0,s.e,[[3,s.b],[8,null],[8,null],[6,s.g],[2,s.s]],{name:[0,"name"]},null),u["\u0275prd"](2048,null,s.h,null,[s.e]),u["\u0275did"](11,16384,null,0,s.i,[[4,s.h]],null,null),(n()(),u["\u0275and"](16777216,null,null,1,null,m)),u["\u0275did"](13,278528,null,0,i.NgForOf,[u.ViewContainerRef,u.TemplateRef,u.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),u["\u0275eld"](14,0,null,null,5,"input",[["class","form-control"],["formControlName","quantity"],["placeholder","Quantity"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var e=!0;return"input"===l&&(e=!1!==u["\u0275nov"](n,15)._handleInput(t.target.value)&&e),"blur"===l&&(e=!1!==u["\u0275nov"](n,15).onTouched()&&e),"compositionstart"===l&&(e=!1!==u["\u0275nov"](n,15)._compositionStart()&&e),"compositionend"===l&&(e=!1!==u["\u0275nov"](n,15)._compositionEnd(t.target.value)&&e),e},null,null)),u["\u0275did"](15,16384,null,0,s.c,[u.Renderer2,u.ElementRef,[2,s.a]],null,null),u["\u0275prd"](1024,null,s.g,function(n){return[n]},[s.c]),u["\u0275did"](17,671744,null,0,s.e,[[3,s.b],[8,null],[8,null],[6,s.g],[2,s.s]],{name:[0,"name"]},null),u["\u0275prd"](2048,null,s.h,null,[s.e]),u["\u0275did"](19,16384,null,0,s.i,[[4,s.h]],null,null),(n()(),u["\u0275eld"](20,0,null,null,5,"input",[["class","form-control"],["formControlName","price"],["placeholder","Price"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var e=!0;return"input"===l&&(e=!1!==u["\u0275nov"](n,21)._handleInput(t.target.value)&&e),"blur"===l&&(e=!1!==u["\u0275nov"](n,21).onTouched()&&e),"compositionstart"===l&&(e=!1!==u["\u0275nov"](n,21)._compositionStart()&&e),"compositionend"===l&&(e=!1!==u["\u0275nov"](n,21)._compositionEnd(t.target.value)&&e),e},null,null)),u["\u0275did"](21,16384,null,0,s.c,[u.Renderer2,u.ElementRef,[2,s.a]],null,null),u["\u0275prd"](1024,null,s.g,function(n){return[n]},[s.c]),u["\u0275did"](23,671744,null,0,s.e,[[3,s.b],[8,null],[8,null],[6,s.g],[2,s.s]],{name:[0,"name"]},null),u["\u0275prd"](2048,null,s.h,null,[s.e]),u["\u0275did"](25,16384,null,0,s.i,[[4,s.h]],null,null),(n()(),u["\u0275eld"](26,0,null,null,5,"input",[["class","form-control"],["formControlName","totalPrice"],["placeholder","Total Price"],["type","text"]],[[8,"value",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var e=!0;return"input"===l&&(e=!1!==u["\u0275nov"](n,27)._handleInput(t.target.value)&&e),"blur"===l&&(e=!1!==u["\u0275nov"](n,27).onTouched()&&e),"compositionstart"===l&&(e=!1!==u["\u0275nov"](n,27)._compositionStart()&&e),"compositionend"===l&&(e=!1!==u["\u0275nov"](n,27)._compositionEnd(t.target.value)&&e),e},null,null)),u["\u0275did"](27,16384,null,0,s.c,[u.Renderer2,u.ElementRef,[2,s.a]],null,null),u["\u0275prd"](1024,null,s.g,function(n){return[n]},[s.c]),u["\u0275did"](29,671744,null,0,s.e,[[3,s.b],[8,null],[8,null],[6,s.g],[2,s.s]],{name:[0,"name"]},null),u["\u0275prd"](2048,null,s.h,null,[s.e]),u["\u0275did"](31,16384,null,0,s.i,[[4,s.h]],null,null),(n()(),u["\u0275eld"](32,0,null,null,5,"input",[["class","form-control"],["formControlName","purchaseDate"],["placeholder","Purchase Date"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var e=!0;return"input"===l&&(e=!1!==u["\u0275nov"](n,33)._handleInput(t.target.value)&&e),"blur"===l&&(e=!1!==u["\u0275nov"](n,33).onTouched()&&e),"compositionstart"===l&&(e=!1!==u["\u0275nov"](n,33)._compositionStart()&&e),"compositionend"===l&&(e=!1!==u["\u0275nov"](n,33)._compositionEnd(t.target.value)&&e),e},null,null)),u["\u0275did"](33,16384,null,0,s.c,[u.Renderer2,u.ElementRef,[2,s.a]],null,null),u["\u0275prd"](1024,null,s.g,function(n){return[n]},[s.c]),u["\u0275did"](35,671744,null,0,s.e,[[3,s.b],[8,null],[8,null],[6,s.g],[2,s.s]],{name:[0,"name"]},null),u["\u0275prd"](2048,null,s.h,null,[s.e]),u["\u0275did"](37,16384,null,0,s.i,[[4,s.h]],null,null),(n()(),u["\u0275eld"](38,0,null,null,1,"button",[["type","submit"]],null,null,null,null,null)),(n()(),u["\u0275ted"](39,null,["",""])),(n()(),u["\u0275eld"](40,0,null,null,1,"button",[],null,[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.cancel()&&u),u},null,null)),(n()(),u["\u0275ted"](-1,null,["Cancel"]))],function(n,l){var t=l.component;n(l,3,0,t.form),n(l,9,0,"productId"),n(l,13,0,t.products),n(l,17,0,"quantity"),n(l,23,0,"price"),n(l,29,0,"totalPrice"),n(l,35,0,"purchaseDate")},function(n,l){var t=l.component;n(l,1,0,u["\u0275nov"](l,5).ngClassUntouched,u["\u0275nov"](l,5).ngClassTouched,u["\u0275nov"](l,5).ngClassPristine,u["\u0275nov"](l,5).ngClassDirty,u["\u0275nov"](l,5).ngClassValid,u["\u0275nov"](l,5).ngClassInvalid,u["\u0275nov"](l,5).ngClassPending),n(l,6,0,u["\u0275nov"](l,11).ngClassUntouched,u["\u0275nov"](l,11).ngClassTouched,u["\u0275nov"](l,11).ngClassPristine,u["\u0275nov"](l,11).ngClassDirty,u["\u0275nov"](l,11).ngClassValid,u["\u0275nov"](l,11).ngClassInvalid,u["\u0275nov"](l,11).ngClassPending),n(l,14,0,u["\u0275nov"](l,19).ngClassUntouched,u["\u0275nov"](l,19).ngClassTouched,u["\u0275nov"](l,19).ngClassPristine,u["\u0275nov"](l,19).ngClassDirty,u["\u0275nov"](l,19).ngClassValid,u["\u0275nov"](l,19).ngClassInvalid,u["\u0275nov"](l,19).ngClassPending),n(l,20,0,u["\u0275nov"](l,25).ngClassUntouched,u["\u0275nov"](l,25).ngClassTouched,u["\u0275nov"](l,25).ngClassPristine,u["\u0275nov"](l,25).ngClassDirty,u["\u0275nov"](l,25).ngClassValid,u["\u0275nov"](l,25).ngClassInvalid,u["\u0275nov"](l,25).ngClassPending),n(l,26,0,t.getTotalPrice(),u["\u0275nov"](l,31).ngClassUntouched,u["\u0275nov"](l,31).ngClassTouched,u["\u0275nov"](l,31).ngClassPristine,u["\u0275nov"](l,31).ngClassDirty,u["\u0275nov"](l,31).ngClassValid,u["\u0275nov"](l,31).ngClassInvalid,u["\u0275nov"](l,31).ngClassPending),n(l,32,0,u["\u0275nov"](l,37).ngClassUntouched,u["\u0275nov"](l,37).ngClassTouched,u["\u0275nov"](l,37).ngClassPristine,u["\u0275nov"](l,37).ngClassDirty,u["\u0275nov"](l,37).ngClassValid,u["\u0275nov"](l,37).ngClassInvalid,u["\u0275nov"](l,37).ngClassPending),n(l,39,0,t.action)})}var k=t("67Y/"),C=t("t/Na"),S=function(){function n(n){this.http=n,this.stockUrl="stock"}return n.prototype.getStocks=function(){return this.http.get(this.stockUrl).pipe(Object(k.a)(function(n){return n.data}))},n.prototype.stockCreate=function(n){return n.id?this.updateStock(n):this.addStock(n)},n.prototype.addStock=function(n){return this.http.post(this.stockUrl,n)},n.prototype.updateStock=function(n){return this.http.put(this.stockUrl+"/"+n.id,n)},n.prototype.deleteStock=function(n){return this.http.delete(this.stockUrl+"/"+("string"==typeof n?n:n.id))},n.ngInjectableDef=u.defineInjectable({factory:function(){return new n(u.inject(C.c))},token:n,providedIn:"root"}),n}(),y=t("frPf"),E=function(){function n(n,l){this.stockService=n,this.productService=l,this.products=[]}return n.prototype.ngOnInit=function(){this.getStocksData()},n.prototype.updateSelectedStock=function(n){void 0===n&&(n=new p),this.getProductsData(),this.selectedStock=n},n.prototype.onStockCreateEvent=function(n){var l=this;this.stockService.stockCreate(n).subscribe(function(n){l.selectedStock=void 0,l.getStocksData()})},n.prototype.onCancelEvent=function(){this.selectedStock=void 0},n.prototype.onEditStockEvent=function(n){this.updateSelectedStock(n)},n.prototype.onDeletestockEvent=function(n){var l=this;this.stockService.deleteStock(n).subscribe(function(n){l.getStocksData()})},n.prototype.getStocksData=function(){var n=this;this.stockService.getStocks().subscribe(function(l){n.stocks=l})},n.prototype.getProductsData=function(){var n=this;this.productService.getProducts().subscribe(function(l){n.products=l})},n}(),b=u["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function D(n){return u["\u0275vid"](0,[(n()(),u["\u0275eld"](0,0,null,null,5,"div",[],null,null,null,null,null)),(n()(),u["\u0275eld"](1,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),u["\u0275eld"](2,0,null,null,1,"button",[],null,[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.updateSelectedStock()&&u),u},null,null)),(n()(),u["\u0275ted"](-1,null,["Create Stock"])),(n()(),u["\u0275eld"](4,0,null,null,1,"app-stock-list",[],null,[[null,"editStockEvent"],[null,"deleteStockEvent"]],function(n,l,t){var u=!0,e=n.component;return"editStockEvent"===l&&(u=!1!==e.onEditStockEvent(t)&&u),"deleteStockEvent"===l&&(u=!1!==e.onDeletestockEvent(t)&&u),u},a,r)),u["\u0275did"](5,114688,null,0,c,[],{stocks:[0,"stocks"],products:[1,"products"]},{editStockEvent:"editStockEvent",deleteStockEvent:"deleteStockEvent"})],function(n,l){var t=l.component;n(l,5,0,t.stocks,t.products)},null)}function I(n){return u["\u0275vid"](0,[(n()(),u["\u0275eld"](0,0,null,null,1,"app-stock-create",[],null,[[null,"stockCreateEvent"],[null,"cancelEvent"]],function(n,l,t){var u=!0,e=n.component;return"stockCreateEvent"===l&&(u=!1!==e.onStockCreateEvent(t)&&u),"cancelEvent"===l&&(u=!1!==e.onCancelEvent()&&u),u},h,f)),u["\u0275did"](1,638976,null,0,g,[s.d],{stock:[0,"stock"],products:[1,"products"]},{stockCreateEvent:"stockCreateEvent",cancelEvent:"cancelEvent"})],function(n,l){var t=l.component;n(l,1,0,t.selectedStock,t.products)},null)}function P(n){return u["\u0275vid"](0,[(n()(),u["\u0275and"](16777216,null,null,1,null,D)),u["\u0275did"](1,16384,null,0,i.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),u["\u0275and"](16777216,null,null,1,null,I)),u["\u0275did"](3,16384,null,0,i.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,1,0,!t.selectedStock),n(l,3,0,t.selectedStock)},null)}function R(n){return u["\u0275vid"](0,[(n()(),u["\u0275eld"](0,0,null,null,1,"app-stock",[],null,null,null,P,b)),u["\u0275did"](1,114688,null,0,E,[S,y.a],null,null)],function(n,l){n(l,1,0)},null)}var w=u["\u0275ccf"]("app-stock",E,R,{},{},[]),_=t("ZYCi"),T=function(){return function(){}}();t.d(l,"StockModuleNgFactory",function(){return N});var N=u["\u0275cmf"](e,[],function(n){return u["\u0275mod"]([u["\u0275mpd"](512,u.ComponentFactoryResolver,u["\u0275CodegenComponentFactoryResolver"],[[8,[o.a,w]],[3,u.ComponentFactoryResolver],u.NgModuleRef]),u["\u0275mpd"](4608,i.NgLocalization,i.NgLocaleLocalization,[u.LOCALE_ID,[2,i["\u0275angular_packages_common_common_a"]]]),u["\u0275mpd"](4608,s.d,s.d,[]),u["\u0275mpd"](4608,s.r,s.r,[]),u["\u0275mpd"](1073742336,i.CommonModule,i.CommonModule,[]),u["\u0275mpd"](1073742336,_.n,_.n,[[2,_.t],[2,_.k]]),u["\u0275mpd"](1073742336,T,T,[]),u["\u0275mpd"](1073742336,s.o,s.o,[]),u["\u0275mpd"](1073742336,s.l,s.l,[]),u["\u0275mpd"](1073742336,e,e,[]),u["\u0275mpd"](1024,_.i,function(){return[[{path:"",component:E}]]},[])])})}}]);